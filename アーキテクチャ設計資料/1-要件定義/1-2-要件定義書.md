
---

## 0. 目的・前提

- **FR-001**：研修生が CRUD に加え、INNER JOIN と OUTER JOIN SQL を用いたデータ取得処理、および画面入力制御（プルダウン／リストボックス／チェックボックス／ラジオ）を自力で実装できること。
    
- **FR-002**：対象は「エントリ」データ（ID・名前・メール等の属性を持つ一意データ）の登録・一覧・詳細・更新・削除。
    
- **NFR-001**：最小構成でシンプル。
    
- **NFR-002**：全てのビジネスロジック層およびデータアクセス層において、例外発生時は try-catch を用いたエラーハンドリングを実装すること。
    
- **NFR-003**：例外発生時には、ユーザーにわかりやすいエラーメッセージを返すこと（内部のスタックトレースや機密情報は表示しない）。
    
- **NFR-004**：予期しない例外は必ずログに記録し、原因調査が可能な状態にすること。
    

---

## 1. データモデル（UI対象：Entry）

- **FR-010**：エンティティ名：Entry（エントリ）
    
    - **ATTR-001**：id（数値・自動採番）
        
    - **ATTR-002**：name（文字列、最大50）
        
    - **ATTR-003**：email（文字列、メール形式）
        
    - **ATTR-004**：category（参照：categories.name）
        
    - **ATTR-005**：status（参照：statuses.name）
        
    - **ATTR-006**：tags（複数選択：tags.label/code）
        
    - **ATTR-007**：agreeNewsletter（bool）
        
    - **ATTR-008**：createdAt（日時）
        
    - **ATTR-009**：updatedAt（日時）
        

---

## 2. 機能要件（CRUD詳細）

- **FR-020**：登録（Create）… 新規エントリを登録。
    
- **FR-021**：一覧（Read-List）… ページング・検索（name, emailの部分一致）、カテゴリ／ステータスフィルタ。
    
- **FR-022**：詳細（Read-Detail）… 単一エントリの情報表示、削除ボタンあり。
    
- **FR-023**：更新（Update）… 初期値セット済みで編集可能。
    
- **FR-024**：削除（Delete）… 一覧または詳細から実行、確認ダイアログ必須。
    

---

## 3. 画面一覧（UI-コード対応）

|UIコード|画面名|主機能概要|
|---|---|---|
|UI-001|登録画面|新規登録フォーム|
|UI-002|一覧画面|検索・フィルタ・ページング|
|UI-003|詳細画面|項目表示＋削除|
|UI-004|更新画面|項目編集|
|UI-005|削除確認Dialog|Yes/No 確認後に削除|

---

## 4. テーブル関連（JOIN方針）

- **INNER JOIN**：`entries` × `categories`／`statuses`（必須FK）
    
- **LEFT OUTER JOIN**：`entry_tags`／`tags`（タグ0件でも表示）
    
- **LEFT OUTER JOIN**：`notes`（最新1件のみ表示）
    

---

## 5. 非機能要件（NFR）

1. フロントエンドはフォームバリデーション実装必須（必須・最大長・形式チェック）。
    
2. バックエンドでも同様のバリデーションを二重で実施。
    
3. 例外はすべて `audit_logs` に記録（安全なメッセージのみ）。
    
4. ページ応答時間：3秒以内（開発環境基準）。
    

---

## 6. テスト観点

- **TST-001**：フォームの必須入力・形式チェック。
    
- **TST-002**：検索・フィルタの組合せ動作。
    
- **TST-003**：ページングによる正しい件数表示。
    
- **TST-004**：削除確認ダイアログのYes/No挙動。
    
- **TST-005**：INNER/OUTER JOIN結果の正しさ。
    
- **TST-006**：予期しない例外時のユーザー表示とログ記録。
    

---

## 7. スキルレベル定義

- **Level 0**：JUnit 完成〜テストデータ作成まで完了。
    
- **Level 1**：更新（修正）画面の実装まで完了。
    
- **Level 2**：削除画面の実装まで完了。
    
- **Level 3**：一覧画面の実装まで完了。
    
- **Level 4**：登録画面の実装まで完了。
    
- **Level 5**：登録画面すら完了できない。
    

---
