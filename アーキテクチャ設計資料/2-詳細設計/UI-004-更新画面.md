# UI-004 ユーザー更新画面

## 画面概要
既存ユーザー情報の更新を行う画面


## 画面URL
`/users/{id}/edit`

## ボタン・機能のビジネスロジック

### 1. 🔄 更新ボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | バリデーション → ユーザー情報更新 |
| **メソッド** | PUT または POST |
| **エンドポイント** | /users/{id} |
| **成功時** | `user.update.success`「ユーザー情報が更新されました」→ 詳細画面へリダイレクト |
| **エラー時** | `user.update.error`「更新処理中にエラーが発生しました」、入力内容保持 |

### 2. ❌ キャンセルボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | 更新内容を破棄 |
| **メソッド** | GET |
| **遷移先** | /users/{id} |

### 3. ➕ スキル追加ボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | スキル入力フィールドを動的追加 |
| **制限** | 最大10件まで |
| **エラー時** | `skill.max.limit`「スキルは最大10件まで登録可能です。」 |


## 入力項目バリデーション

| 項目名 | 必須 | 制限 | エラーメッセージ |
|--------|------|------|-----------------|
| **ユーザー名** | ✅ | 最大100文字 | 「ユーザー名は必須です。」<br>「ユーザー名は100文字以内で入力してください。」 |
| **メールアドレス** | ✅ | メール形式<br>最大255文字<br>重複不可（自身除く） | 「メールアドレスは必須です。」<br>「正しいメールアドレス形式で入力してください。」<br>「このメールアドレスは既に他のユーザーが使用しています。」 |
| **電話番号** | - | 電話番号形式 | 「正しい電話番号形式で入力してください。（例：090-1234-5678）」 |
| **カテゴリー** | ✅ | プルダウン選択 | 「カテゴリーを選択してください。」 |
| **ステータス** | ✅ | ラジオボタン | 「ステータスを選択してください。」 |
| **タグ** | - | 最大4個 | 「タグは最大4個まで選択可能です。」 |
| **スキル名** | ✅ | 最大100文字 | 「スキル名は必須です。」<br>「スキル名は100文字以内で入力してください。」 |
| **スキルレベル** | ✅ | 0-5選択 | 「スキルレベルを選択してください。」 |
| **経験年数** | - | 数値 | 「経験年数は0以上の数値で入力してください。」 |

## エラーハンドリング

| エラー種別 | メッセージ |
|------------|-----------|
| **ユーザー不存在** | `update.user.not.found`「更新対象のユーザーが見つかりません。」→ 一覧へリダイレクト |
| **メール重複** | `email.duplicate.other.user`「このメールアドレスは既に他のユーザーが使用しています。」 |
| **データ整合性** | `data.integrity.error`「データの整合性エラーが発生しました。入力内容を確認してください。」 |
| **DB接続エラー** | `database.connection.error`「データベースへの接続に失敗しました。しばらく待ってから再度お試しください。」 |