# UI-002 ユーザー一覧画面

## 画面概要
ユーザー情報の一覧表示と検索、詳細画面への遷移を提供する画面


## 画面URL
`/users`

## ボタン・機能のビジネスロジック

### 1. 🔍 検索ボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | 複合条件検索（テキスト検索 + フィルタリング） |
| **メソッド** | GET |
| **エンドポイント** | /users |

#### 検索フィルタマトリックス
| フィルタ種別 | パラメータ名 | 検索対象フィールド | 検索方式 | 選択肢 | デフォルト |
|------------|------------|-----------------|---------|--------|-----------|
| **テキスト検索** | search | user_name<br>email | 部分一致（OR条件） | 自由入力 | 空（全件） |
| **カテゴリー** | category | category | 完全一致 | Level 0<br>Level 1<br>Level 2<br>Level 3<br>Level 4<br>Level 5<br>全て | 全て |
| **ステータス** | status | status | 完全一致 | 有効<br>無効<br>全て | 全て |
| **ページ番号** | page | - | - | 0〜 | 0 |
| **表示件数** | size | - | - | 10/20/50 | 10 |

#### 検索条件組み合わせ
| 条件パターン | SQL WHERE句 | 結果 |
|------------|------------|------|
| **全て空/デフォルト** | `WHERE deleted_at IS NULL` | 全ユーザー表示 |
| **searchのみ** | `WHERE (user_name LIKE '%検索語%' OR email LIKE '%検索語%')` | テキスト一致ユーザー |
| **categoryのみ** | `WHERE category = 'Level 1'` | 指定カテゴリーユーザー |
| **statusのみ** | `WHERE status = '有効'` | 指定ステータスユーザー |
| **search + category** | `WHERE (user_name LIKE '%検索語%' OR email LIKE '%検索語%') AND category = 'Level 1'` | 両条件一致 |
| **全条件指定** | `WHERE (user_name LIKE '%検索語%' OR email LIKE '%検索語%') AND category = 'Level 1' AND status = '有効'` | 全条件一致 |

| **成功時** | フィルタ結果を一覧表示、選択条件を画面保持、結果件数表示 |
| **エラー時** | `database.error`「データベースエラーが発生しました。しばらく待ってから再度お試しください。」 |

### 2. 🔄 クリアボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | 検索条件をクリアして全件表示 |
| **メソッド** | GET |
| **遷移先** | /users |

### 3. ➕ 新規登録ボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | ユーザー登録画面へ遷移 |
| **メソッド** | GET |
| **遷移先** | /users/new |


### 4. 📋 詳細編集リンク（各行）
| 項目 | 内容 |
|------|------|
| **処理内容** | ユーザー詳細画面を表示（読み取り専用） |
| **メソッド** | GET |
| **遷移先** | /users/{id} |
| **エラー時** | `user.not.found.in.list`「指定されたユーザーが見つかりません。」→ 一覧画面へリダイレクト |


### 📄 ページネーション
| 項目 | 内容 |
|------|------|
| **表示件数** | 1ページあたり20件 |
| **パラメータ** | page (ページ番号), size (表示件数) |
| **ナビゲーション** | 前へ/次へボタン、ページ番号リンク |

## 表示項目
- ID
- ユーザー名
- メールアドレス
- カテゴリー
- ステータス（有効/無効をバッジで表示）
- スキル数
- 登録日（YYYY/MM/DD形式）

## エラーハンドリング
| エラー種別 | メッセージ |
|------------|-----------|
| **DB接続エラー** | `database.connection.error`「データベースへの接続に失敗しました。しばらく待ってから再度お試しください。」 |
| **データ取得失敗** | `data.fetch.failed`「データの取得に失敗しました。」 |