# UI-002 ユーザー登録画面

## 画面概要
新規ユーザー情報の登録を行う画面


## 画面URL
`/users/new`

## ボタン・機能のビジネスロジック

### 1. 💾 登録ボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | 入力内容バリデーション → ユーザー情報DB登録 |
| **メソッド** | POST |
| **エンドポイント** | /users |
| **成功時** | `registration.success`「ユーザーが正常に登録されました」→ 一覧画面へリダイレクト |
| **エラー時** | `registration.error.process`「登録処理中にエラーが発生しました」、入力内容保持 |

### 2. ❌ キャンセルボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | 入力内容を破棄 |
| **メソッド** | GET |
| **遷移先** | /users |

### 3. ➕ スキル追加ボタン
| 項目 | 内容 |
|------|------|
| **処理内容** | スキル入力フィールドを動的追加 |
| **制限** | 最大10件まで |
| **エラー時** | `skill.max.limit`「スキルは最大10件まで登録可能です。」 |


## 入力項目バリデーション

| 項目名 | 必須 | 制限 | エラーメッセージ |
|--------|------|------|-----------------|
| **ユーザー名** | ✅ | 最大100文字 | `user.name.notblank`「ユーザー名は必須です。」<br>`user.name.size`「ユーザー名は100文字以内で入力してください。」 |
| **メールアドレス** | ✅ | メール形式<br>最大255文字<br>重複不可 | `user.email.notblank`「メールアドレスは必須です。」<br>`user.email.format`「正しいメールアドレス形式で入力してください。」<br>`user.email.duplicate`「メールアドレスは既に登録されています: {0}」 |
| **電話番号** | - | 電話番号形式 | `phone.format.error`「正しい電話番号形式で入力してください。（例：090-1234-5678）」 |
| **カテゴリー** | ✅ | プルダウン選択 | `user.category.notblank`「カテゴリーを選択してください。」 |
| **ステータス** | ✅ | ラジオボタン | `user.status.notblank`「ステータスを選択してください。」 |
| **スキル領域（タグ）** | - | 最大4個選択<br>チェックボックス | `tags.validation.max`「スキル領域は最大4個まで選択可能です」<br>`tags.selection.disabled`「4個選択時は残りの選択肢を無効化」 |
| **スキル名** | ✅ | 最大100文字 | `userskill.name.notblank`「スキル名は必須です。」<br>`userskill.name.size`「スキル名は100文字以内で入力してください。」 |
| **スキルレベル** | ✅ | 0-5選択 | `userskill.level.notnull`「スキルレベルを選択してください。」 |
| **経験年数** | - | 数値 | `userskill.experienceyears.min`「経験年数は0以上の数値で入力してください。」 |

## ビジネスルール

### スキル領域選択制限
| 項目 | 内容 |
|------|------|
| **制限理由** | 研修生の専門性を明確化し、評価の焦点を絞るため |
| **最大選択数** | 4個 |
| **制限時の動作** | 4個選択時は残りのチェックボックスを無効化（disabled状態） |
| **UI表示** | 「選択中: X/6」形式で選択状況を表示（選択可能数は動的に変化） |
| **バリデーション** | フロントエンド：選択時の動的制御<br>バックエンド：サーバーサイドでも4個制限をチェック |

## エラーハンドリング
| エラー種別 | メッセージ |
|------------|-----------|
| **DB接続エラー** | `database.connection.error`「データベースへの接続に失敗しました。しばらく待ってから再度お試しください。」 |
| **メール重複** | `user.email.duplicate`「メールアドレスは既に登録されています: {0}」 |
| **データ整合性** | `data.integrity.error`「データの整合性エラーが発生しました。入力内容を確認してください。」 |